<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <title>API Web Storage</title>
    <style>
        #cajaformulario {
            float: left;
            padding: 20px;
            border: 1px solid #999999;
        }

        #cajadatos {
            float: left;
            width: 400px;
            margin-left: 20px;
            padding: 20px;
            border: 1px solid #999999;
        }

        #clave,
        #texto {
            width: 200px;
        }

        #cajadatos>div {
            padding: 5px;
            border-bottom: 1px solid #999999;
        }
    </style>
    <script>
        function iniciar() {
            var boton = document.getElementById("grabar");
            boton.addEventListener("click", nuevoitem);

            document.getElementById("recuperar").addEventListener("click",
                function () {
                    let clave = document.getElementById("clave").value;
                    if (clave.length > 0) mostrar(clave);
                });
        }
        function nuevoitem() {
            var clave = document.getElementById("clave").value;
            var valor = document.getElementById("texto").value;
            //sessionStorage.setItem(clave, valor);
            sessionStorage[clave] = valor;
            mostrar(clave);
        }
        function mostrar(clave) {
            var cajadatos = document.getElementById("cajadatos");
            //var valor = sessionStorage.getItem(clave);
            var valor = sessionStorage[clave];
            if (valor == null) valor = "No entry";
            cajadatos.innerHTML = "<div>" + clave + " - " + valor + "</div>";
        }
        window.addEventListener("load", iniciar); 
    </script>
</head>

<body>
    <section id="cajaformulario">
        <form name="formulario">
            <p><label>Clave: <input type="text" name="clave" id="clave"></label></p>
            <p><label>Valor: <textarea name="texto" id="texto"></textarea></label></p>
            <p><button type="button" id="grabar">Grabar</button></p>
            <p><button type="button" id="recuperar">Recuperar</button></p>
        </form>
    </section>
    <section id="cajadatos">
        <p>Informaci√≥n no disponible</p>
    </section>
</body>

</html>